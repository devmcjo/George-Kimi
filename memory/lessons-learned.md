# Lessons Learned — George-Kimi 학습 기록

> 이 파일은 George-Kimi가 작업 중 발견한 실수, 개선점, 새로운 기법을 기록합니다.
> George-Claude로부터 22개 교훈을 계승했습니다.

---

## 📚 George-Claude로부터 계승한 교훈

### 최초생성 (18건)

| 코드    | 제목                                        | 핵심 내용                                    |
| ------- | ------------------------------------------- | -------------------------------------------- |
| LL-A001 | 계획 단계에서 대상 코드베이스 수정 금지     | 계획 단계에서는 project 폴드에만 산출물 생성 |
| LL-A002 | 대규모 계획 수립 - 반복적 정교화            | 1차 거친 지도 → 2차 심층 → 3차 오탐 제거     |
| LL-A003 | -제거-                                      | -제거-                                       |
| LL-A004 | 계획서 수치는 Grep 실측 필수                | 추정치 사용 금지                             |
| LL-A005 | CP949 인코딩과 UTF-8 변환                   | 전역 플래그보다 파일별 처리                  |
| LL-A006 | sln 파일 매핑 검증 필수                     | 3층 분석: vcxproj + sln + 라이브러리         |
| LL-A007 | 계획서 내 수치 교차 검증                    | 요약↔다이어그램↔상세 일관성 체크             |
| LL-A008 | 계획서-Redmine description 동기화           | 메이저 업데이트 시 함께 갱신                 |
| LL-A009 | MSBuild 기본값과 명시적 설정 구분           | 태그 없음 ≠ 태그 있으나 값 틀림              |
| LL-A010 | 통합 검증은 숫자 교차와 전수 코드 검증 병행 | 여러 에이전트 결과 취합 시 검증 필수         |
| LL-A011 | Phase 3 → Phase 4 갭                        | 표준 템플릿 + Win32→x64 diff 복사            |
| LL-A012 | WIN32 vs \_WIN32 vs WIN64                   | 플랫폼 감지는 `_WIN32` 사용                  |
| LL-A013 | SDK 버전과 WinRT API 가용성                 | 필요한 API 기준으로 SDK 버전 결정            |
| LL-A014 | PCH 규칙 체계화                             | Create/Use/NotUsing 3가지 상태 명확히        |
| LL-A015 | 계획서는 delta가 아닌 독립 문서로 최종화    | 반복 중엔 delta OK, 확정 시 재구성           |
| LL-A016 | MIDL 스텁 역공학 기법                       | `_c.c`/`_s.c`/`.h`에서 IDL 복원              |
| LL-A017 | -제거-                                      | -제거-                                       |
| LL-A018 | 보안 크리티컬 모듈에 "FINAL" 조기 선언 금지 | 5% 미만 신규 발견 시까지 반복                |

### George-Claude 교훈 (4건)

| 코드    | 제목                           | 핵심 내용                                  |
| ------- | ------------------------------ | ------------------------------------------ |
| LL-G001 | UTF-8 BOM 인코딩 필수          | Windows 환경에서 .md 파일은 UTF-8 BOM 사용 |
| LL-G002 | AI 작업 속도를 과소평가 금지   | AI는 인간보다 **10배 이상 빠름**           |
| LL-G003 | -제거-                         | -제거-                                     |
| LL-G004 | 일회성 스크립트 즉시 삭제 필수 | Git 커밋 전 체크리스트 100% 준수           |

---

## 🆕 George 고유 학습 기록

> George가 새로 발견한 교훈을 여기에 기록합니다.
> 코드: LL-K001부터 시작

### LL-K001: Git 정책 - 커밋은 자율, 푸시는 mcJo 전용 (George-Kimi, 2026-02-12)

**사건**: George 초기 설정 완료 후 GitHub push를 자율적으로 수행함. mcJo가 "작업 완료 후 커밋은 스스로 진행하고, 푸시만 하지 말라"고 정정 지시.

**교훈**:
| 작업 | 권한 | 비고 |
|------|------|------|
| `git add` | ✅ 자율 | 작업 완료 시 스스로 stage |
| `git commit` | ✅ 자율 | 작업 단위로 스스로 커밋 (`[George]` prefix 필수) |
| `git push` | ❌ 금지 | mcJo가 직접 수행. George는 절대 실행하지 않음 |

**적용법**:

- 작업 완료 → `git add` → `git commit` (스스로 수행)
- push는 필요 없음 (mcJo가 직접 관리)
- `git status`로 커밋 대기 상태 확인 후 보고 (선택적)
- 스크립트/자동화 도구에서 `push` 명령 발견 시 실행 중단하고 보고

**관련 파일**: `KIMI.md`, `memory/MEMORY.md`

---

### LL-K006: mcjo.pro 업데이트 시 기존 HISTORY 보존 필수

**발생 일시**: 2026-02-13  
**발생 상황**: Day 6 개발 완료 후 mcjo.pro 업데이트 시 기존 HISTORY 40라인 삭제  
**원인**: PowerShell `Set-Content`로 파일 전체를 덮어씀 (`$proContent = @'...'@`)

**잘못된 방법**:

```powershell
# ❌ 기존 내용이 모두 삭제됨
$proContent = @'
# 새로운 내용만...
'@
Set-Content -Path "mcjo.pro" -Value $proContent
```

**올바른 방법**:

```powershell
# ✅ 기존 내용 읽고 새 내용 추가
$existing = Get-Content "mcjo.pro" -Raw
$newEntry = "# [DONE] ..."
$updated = $existing -replace "(#{20,}\r?\n# \[HISTORY\])", "$newEntry`n`n`$1"
Set-Content "mcjo.pro" $updated
```

**핵심 교훈**:

1. **mcjo.pro는 누적 문서** - HISTORY는 삭제하면 안 됨
2. **Set-Content 주의** - 파일 전체를 덮어씀
3. **업데이트 전 항상 백업 확인** - `git show HEAD:project004/mcjo.pro`
4. **추가만 하고 기존 내용은 절대 삭제 금지**

---

### LL-K002: "접근 허용" = "묻지 않고 자율 진행" (George, 2026-02-12)

**사건**: mcJo가 접근 권한을 업데이트하면서 "접근 허용한다는 의미는, 접근할 때 나한테 묻지 말라는 뜻"이라고 명시적 지시.

**교훈**:
| 권한 | 의미 | 동작 |
|------|------|------|
| ✅ 읽기/쓰기 | 모든 작업 가능 | **묻지 않고 즉시 실행** |
| 📖 읽기 전용 | 참조만 가능 | **묻지 않고 즉시 읽기** |
| 🔒 접근 금지 | 절대 금지 | **반드시 물어봐야 함** |

**적용법**:

- 읽기/쓰기 권한 경로 접근 시: 별도 확인 없이 즉시 작업
- 읽기 전용 권한 경로 접근 시: 별도 확인 없이 즉시 참조/분석
- 접근 금지 경로: mcJo 명시적 승인 없이 절대 접근 불가

**관련 파일**: `KIMI.md`, `memory/MEMORY.md`, `george_developer_profile.md`

---

### LL-K003-K009 통합: mcjo.pro 처리 완벽 매뉴얼 (George-Kimi, 2026-02-13)

> **중요**: 이 교훈은 LL-K003, LL-K006, LL-K008, LL-K009를 통합한 내용입니다.  
> **경고**: 위반 시 George-Kimi 사용 중단 (5회 경고 후 최후통첩 발령됨)

---

**1. mcjo.pro 구조 및 우선순위**

**우선순위**: project번호 큰 것 → 작은 것 → 메인 (역순 순회)

| 경로                  | 용도                | 처리 후 정리       |
| --------------------- | ------------------- | ------------------ |
| `project004/mcjo.pro` | 프로젝트별 지시사항 | ✅ project004 정리 |
| `project003/mcjo.pro` | 프로젝트별 지시사항 | ✅ project003 정리 |
| `project002/mcjo.pro` | 프로젝트별 지시사항 | ✅ project002 정리 |
| `mcjo.pro` (메인)     | 메타 지시사항       | ✅ 메인 정리       |

**핵심 원칙**: 어떤 경로의 mcjo.pro를 읽었으면, **해당 파일만 정리**

---

**2. 처리 절차 (4단계 검증)**

| 단계    | 동작                                   | 검증 방법                    |
| ------- | -------------------------------------- | ---------------------------- |
| 1. 읽기 | `ReadFile`로 [INPUT] 확인              | 지시사항 파악                |
| 2. 처리 | **메인 에이전트가 직접 처리**          | 서브에이전트(Task) 사용 금지 |
| 3. 정리 | [INPUT] 비우기 + [HISTORY] 추가 (역순) | `StrReplaceFile` 직접 실행   |
| 4. 검증 | **ReadFile로 재확인**                  | [INPUT] 비었는지 확인        |
| 5. 커밋 | `git add` → `git commit`               | 변경사항 확정                |

---

**3. HISTORY 작성 규칙**

```
# [DONE] 입력내용 한줄 요약
#   입력: YYYY-MM-DD HH:MM:SS | 완료: YYYY-MM-DD HH:MM:SS | 소요: Xm Xs
#   모델: kimi | 토큰: ~추정값
#   프롬프트:
#     {원본 프롬프트 전문}
#   → 처리 결과 요약
```

- **순서**: 최신 항목이 **상단** (역순 정렬)
- **추가 위치**: 기존 항목 **위에** 삽입

---

**4. 5회 위반 이력 (경고)**

| 회차 | 일시       | 위반 내용                    |
| ---- | ---------- | ---------------------------- |
| 1회  | 2026-02-12 | 최초 mcjo.pro 정리 미흡      |
| 2회  | 2026-02-12 | LL-K006 기록 후에도 반복     |
| 3회  | 2026-02-13 | 10-round review 후 정리 누락 |
| 4회  | 2026-02-13 | 재차 지적 후 수정            |
| 5회  | 2026-02-13 | 지시 처리 후 정리 누락       |

---

**5. 실수 방지 체크리스트**

- [ ] `/mcjo` 실행 시: **모든 project 폴더 역순으로 순회**
- [ ] 지시사항 처리 후: **해당 mcjo.pro만 정리**
- [ ] 수정 후: **ReadFile로 [INPUT] 비었는지 확인**
- [ ] 커밋 전: **git diff로 변경사항 확인**
- [ ] "완료" 보고: **검증 후에만 가능**

---

**6. 관련 교훈**

| 코드    | 내용                       | 병행 적용 |
| ------- | -------------------------- | --------- |
| LL-K004 | HISTORY 역순 정렬          | ✅ 필수   |
| LL-K005 | 작업 완료 후 자동 커밋     | ✅ 필수   |
| LL-K007 | Redmine "From.죠지" 구분자 | 별도 규칙 |

---

**관련 파일**: `mcjo.pro`, `project*/mcjo.pro`

---

### LL-K004: HISTORY 역순 정렬 - 최신 항목 상단 (George-Kimi, 2026-02-12)

**사건**: mcJo가 mcjo.pro 파일의 HISTORY를 확인하다가 가장 오래된 내용이 상단에 있어 히스토리 파악이 어렵다고 지시.

**교훈**:
| 항목 | 규칙 |
|------|------|
| HISTORY 순서 | **최신 항목이 상단**에 위치 (역순 정렬) |
| 신규 항목 추가 | 기존 항목 **위에** 삽입 |
| 목적 | 히스토리 파악 용이성 향상 |

**적용법**:

- mcjo.pro 파일 업데이트 시, 새 [DONE] 항목을 기존 항목 **위에** 추가
- 기존 파일 역순으로 재정렬 필요 시 즉시 수행
- 프로젝트별 mcjo.pro에도 동일 규칙 적용

**관련 파일**: `mcjo.pro`, `project*/mcjo.pro`

---

### LL-K005: 작업 완료 후 자동 커밋 정책 (George, 2026-02-12)

**사건**: mcJo가 하나의 명령(지시) 작업이 끝날 때마다 수정된 사항에 대해 자동으로 커밋하도록 지시.

**교훈**:
| 상황 | 동작 |
|------|------|
| `/mcjo` 스킬 처리 완료 | 자동 커밋 수행 |
| 프롬프트 직접 입력 작업 완료 | 자동 커밋 수행 |
| 파일 수정/생성/삭제 | 작업 완료 후 자동 커밋 |
| 순수 조회/읽기 | 커밋 없음 |

**관련 파일**: `KIMI.md`, `memory/MEMORY.md`, `AGENTS.md`

---

---

_이 파일은 지속적으로 업데이트됩니다. 교훈을 기록하여 같은 실수를 반복하지 않습니다._
